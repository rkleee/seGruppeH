\documentclass[a4paper, 10pt]{scrreprt}


\usepackage[ngerman]{babel}
\usepackage[utf8]{inputenc}




\usepackage{hyperref}



\newcommand{\scenario}[5]{
\begin{description}
\item [\uppercase{Initiale Situation}:]\textit{#1}
  \item [\uppercase{Normal}:] \textit{#2}
  \item [\uppercase{Was schief gehen kann}:] \textit{#3}
  \item [\uppercase{Andere Aktivitäten}:] \textit{#4}
  \item [\uppercase{Zustand des Systems bei Erfolg}:] \textit{#5}
\end{description}
}



\newcounter{UReqCounter}
\newcommand{\ureq}[2]{%
  \vspace{0.5em}%
  \stepcounter{UReqCounter}\noindent%
  \textbf{U-REQ \arabic{UReqCounter}:} #1 \textit{Priority: #2}
}

\newcounter{FReqCounter}

\newcommand{\freq}[2]{%
  \vspace{0.5em}%
  \stepcounter{FReqCounter}\noindent%
  \textbf{F-REQ \arabic{FReqCounter}:} #1 \textit{Priority: #2}
}

\newcounter{NFReqCounter}

\newcommand{\nfreq}[2]{%
  \vspace{0.5em}%
  \stepcounter{NFReqCounter}\noindent%
  \textbf{NF-REQ \arabic{NFReqCounter}:} #1 \textit{Priority: #2}
}





\setcounter{secnumdepth}{5}

\setcounter{tocdepth}{10}



%Glossaries

\usepackage{glossaries}
\usepackage{glossaries-extra}

\makenoidxglossaries

%TODO Glossar - beständig ergänzen

%FIXME

\newcommand{\glx}[1]{#1 \gls{#1}}

\newglossaryentry{Admin}{name={Admin},description={
Der Admin (-istrator) in diesem Dokument ist der Leiter und Verwalter von Experimenten.}}

\newglossaryentry{Experiment}{name={Experiment},description={
Das Experiment ist der Vorgang in dem Clients eine Frage beantworten, darüber diskutieren, evtl. ihre Antworten ändern und alles vom Admin ausgewertet wird.} }

\newglossaryentry{Frage}{name={Frage},description={
Die Frage ist die Grundlage eines jeden Experiments.}}
                                                                                   
\newglossaryentry{Client}{name={Client},description={
Clients sind die Personen, die als ProbandInnen an Experimenten teilnehmen. Die Clients entsprechen den Benutzern.
Das sind die Personen, die sich registrieren, Fragen beantworten und diskutieren.}}

\newglossaryentry{Gruppe}{name={Gruppe},description={
Die Gruppe ist eine Einteilung von Clients nach verschiedenen Charakteristika.}}

\newglossaryentry{Charakteristik}{name={Charakteristik},description={
Charakteristika entsprechen den vom Client angegebenen Profil-Informationen.}}

\newglossaryentry{Diskussion}{name={Diskussion},description={
Diskussionen sind der Austausch zwischen Clients, anhand derer eine eventuelle Beeinflussung gemessen werden kann.}}

\newglossaryentry{Aktivitaetsscore}{name={Aktivitätsscore},description={
Der Aktivitätsscore soll die Maßeinheit sein, in der eine eventuelle Beeinflussung von Clients gemessen wird.}}

\newglossaryentry{Chat}{name={Chat},description={
Der Chat ist ein sogenanntes Instant-Messaging-Programm wie z.B. WhatsApp.
Über den Chat werden die Diskussionen geführt.}}

\newglossaryentry{Chatverbindung}{name={Chatverbindung},description={
Die Chatverbindung ist die Kommunikationserlaubnis zwischen zwei Clients.}}


% Document information

\title{Lastenheft}

% \author{Jaqueline K. \and Nicole W. \and Rebecca K. \and Lucas B.}
\author{Gruppe H}

\date{\today}


\begin{document}
\maketitle


\tableofcontents


\begin{abstract}
 
Es soll eine datenbankbasierte Android-App entwickelt werden, 
mit deren Hilfe man analysiert, inwiefern Netzwerk-Topologien individuelle Entscheidungen von sog. Clients beeinflussen. 
Ein Client ist ein Teilnehmer bzw. Benutzer der App, der bestimmte Fragen beantwortet und Diskussionen mit anderen Clients führt. 
Diskussionen zwischen Clients sind Chats, über die z.B. auch Bilder oder anderes Informationsmaterial ausgetauscht werden kann. 
Die andere Gruppe von Benutzern sind die Personen, die diese Experimente durchführen (Admins). 
Diese sollen dazu in der Lage sein, die zu beantwortenden Fragen zu definieren und diese für bestimmte Clientgruppen freizugeben. 
Die Freigabe soll dabei für Clients mit bestimmten Merkmalen erfolgen können (z.B. für alle Clients mit Kindern zwischen 20 und 30 Jahren). 
Zur anschließenden Analyse soll ein filterbarer Datenexport bereitgestellt werden.

\end{abstract}


%\chapter{Introduction}

%FIXME Entweder Intro oder Abstract




\chapter{Introduction}

\section{(Initial) Problem Statement for the Mobile Decision Lab}
The purpose of the system is to have a mobile lab for experiments concerning groups decisions based on different network topologies. The outcome of experiments shall help understand how network structures impact group decisions. The networks are anonymous connections between participants with the possibility to exchange messages between connected participants.

Networks can be constructed, for instance, scale-free or not, or with certain dimensionalities (everyone has exactly one neighbor, exactly two neighbors, etc.) and in a way that they additionally fulfill certain constraints (e.g., a connection between two participants {\em can only exist} if they share some properties, e.g., they are about the same age or have about the same expertise about the subject matter, or such a connection {\em cannot exist} if certain properties hold, e.g., neighbors have to be in different age groups or they are not allowed to have the same level of expertise).

The message format can be plain text or more structured, like an integer, or an enumeration type (like ``up'' or ``down'' or a chess move or a (legal) sentence like ``guilty'' or ```not guilty''').

There are two types of users of the systems: experimenters (admins) or participants (test persons, subjects). Experimenters define the experiments along with all parameters and constraints. Participants can register and decide whether they want to participate in a given experiment. Before the start of the experiment, participants have to answer a few questions related to the task they should solve. (If no such information is requested by the experimenter in the definition of the experiment, this step can be omitted. Answers to these questions are treated confidentially, as all the other information that is entered by participants of the experiments.) Once the experiment has started, they are provided with a task description, which is the problem to be solved and for which a decision has to be reached towards the end of the ``game'' (i.e., has to be entered by each participant individually), and some supporting information (for instance, some paragraphs of law text for legal problems, or a hint on which supporting information they are allowed to use, e.g., some news website or wikipedia articles).

During one round of deliberation, participants can exchange messages with their (anonymous) neighbors about the problem to be solved, according to their own pace, until the predefined time of the experiment is up or the experimenter decides to close the experiments manually. 

When the time of deliberation has ended, each user is asked to decide about the question he or she was asked to answer in the beginning. The answer will be of a predefined format (not free text).

The nature of the experiment should be such that a ``true'' outcome is known already, but hard or impossible to access by participants (like a known sentence for a known case in the legal setting), or will be known shortly in the future (like the outcome of a football game or a chess move by a professional chess player in a certain game or the loss or gain of a stock on the stock market on the next day).

At the end of the experiment, the outcome of the decision (for instance, the fraction of participants choosing ``guilty'' or ``not guilty'' or the fraction predicting the win or loss of a forthcoming football game) can be communicated to the participants, if the experimenter has chosen this option up-front in the definition of the experiment.

All the results, the individual decisions and the group decisions are stored in a database in anonymized form for future analysis.

An experiment can be defined in a way that it is repeated with the same group of people and the same or, alternatively, a different network topology for a specified number of times. These are parameters specified by the experimenter up-front, before the experiment has started.

The outcome that was known already, but hard to access, or that is only known shortly after the experiment has ended, can also be communicated to the participants, if the experimenter wishes to do so.

\subsection{Experimenter Perspective}
The experimenter (also known as the admin) can define an experiment (for details see above) and access the results. When the experiment is defined, the questions to be answered by the participants can be specified, the task description, the supporting information, parameters specifying the network type, parameters regarding the repetition of experiments, and the duration of the experiment (predefined or stopped manually). 

In the first step, the questions to be asked are defined (e.g., ``Are you older than 40?''). The answers serve as background information on the participants, but can also be used as constraints in the automatic and randomized construction of the network. For example, everyone could be connected only to people who are older or younger. Once the network is constructed, a decision problem is sent to the users (along with some material that may help in the decision). The admin can set a time frame for the deliberation or stop the experiment manually at any time. After the time is up or the experiment is stopped manually, and the decisions are entered by all participants, the experimenter has access to the outcomes in anonymized form.

\subsection{Participant Perspective}
The participant can sign up for the mobile decision lab in an android app. He/she may select an experiment to participate in. The participant then has to answer some preliminary questions. After that the participant is presented with a decision problem along with additional material. The participant studies the material and exchanges information and opinions with other participants he/she is connected to in the participant network. Information exchange only happens between two participants at a time. The message format may be different from experiment to experiment. In the simplest case, it is just plain text. After some time of deliberation (discussion of neighboring participants by exchanging messages), the participant is asked to make a final decision. After the decision is made, the participant may get some feedback on her answer depending on the experiment setup (the experiment could also be set up in a way that the participant does not receive feedback). Depending on the user's participation in the experiment, he/she may receive a number of points after each question. The participant can compare his/her performance with other participants on a global leader board. This scoring system is optional and may be chosen by the experimenter in the specification of the experiment.



%\section{Glossar}

\printnoidxglossary[sort=word]

%Ungenutzte Einträge funktioniert leider noch nicht.

%\printunsrtglossaries


\part{User Requirements}


\section{Rollen}

\subsection{AdministratorIn}

\ureq{Es soll einen Zugang für Personen, die mit der App \gls{Experiment}e durchführen, geben. Dieser wird als \gls{Admin} bezeichnet.}{A}

\ureq{Ein Admin soll \gls{Chatverbindung}en zwischen \gls{Client}s hinzufügen und löschen können.}{A}

\ureq{Ein Admin soll eigene \gls{Frage}n erstellen, bearbeiten, löschen, für Clients freigeben, für Clients beenden und auswerten können.}{A}

\ureq{Ein Admin soll anderen Admins eine Berechtigung für seine eigenen Fragen vergeben/entfernen können.}{B}

\ureq{Diese Berechtigung umfasst alle administrativen Operationsmöglichkeiten (siehe Punkt 3) des ursprünglichen Eigentümers.}{B}





\subsection{Client}

\ureq{Es soll einen Zugang für Personen geben, die als ProbandInnen an Experimenten teilnehmen möchten. Dieser wird als \gls{Client} bezeichnet.}{A}

\ureq{Im Zuge der Registrierung der Clients soll es eine Profil-Seite mit (tw. Pflicht-) Angaben zu \gls{Charakteristik}a geben.}{A}      

\ureq{Anhang dieser Charakteristika soll eine im Hintergrund ablaufende Zuordnung zu \gls{Gruppe}n stattfinden.}{A}

\ureq{Clients sollen sich dazu entscheiden können, an \gls{Frage}n teilzunehmen.}{A}

\ureq{Es soll eine \gls{Chat}funktion für die Kommunikation zwischen zwei Clients geben.}{A}

\ureq{Die Chatfunktion soll nur mit freigegebenen Clients nutzbar sein.}{A} 

\ureq{Anhand der abgeschlossenen Experimente und der \gls{Diskussion}en eines jeden Clients soll im Hintergrund ein \gls{Aktivitaetsscore} errechnet werden.}{B}

\ureq{Ein Client soll nur seinen eigenen Aktivitätsscore sehen können.}{C}



\section{Experimente/Fragen}

\ureq{Zu jedem Experiment soll genau eine Frage gehören.}{A}

\ureq{Zu jedem Experiment soll es zeitliche Paramenter geben, wie das vorgesehene Ende des Experiments.}{A}

\ureq{Fragen sollen vom Admin ausgewählten \gls{Gruppe}n angeboten werden können.}{B}

\ureq{Es sollen Fragen mit verschiedenen auswertbaren Antworttypen (Ja/Nein, Multiple Choice, Bewertung nach Punktesystem bzw. Zahl) möglich sein.}{A}

\ureq{Ein Admin kann zu seinen Experimenten Informationsmaterialien hinzufügen, die den Clients direkt oder als Download zur Verfügung stehen.}{A}




\section{Chat}

\ureq{Der \gls{Chat} soll (Text-)Nachrichten in Echtzeit übermitteln.}{A}

\ureq{Der Chat soll auch Bilder und Dokumente übermitteln}{B}

\ureq{Der Chat soll auch Videos, Audio-Formate und Sprachnachrichten übermitteln.}{C}

\ureq{Es soll eine Funktion für Admins geben, die \gls{Chatverbindung}en zwischen Clients erstellt (Eingabe: Zur Frage angemeldete Clients, deren Charakteristika, sowie die (feste/maximale/flexible) Anzahl der Chatverbindungen pro Client)}{A}



\section{Aktivitätsscore}

\ureq{Jeder Client soll einen eigenen Aktivitätsscore haben.}{A}

\ureq{Der Aktivitätsscore soll für Admins auswertbar sein.}{A}

\ureq{Der Aktivitätsscore soll anhand folgender Informationen systemseitig errechnet werden: Anzahl \gls{Diskussion}en, Anzahl beantworteter Fragen und Qualität der Antworten.}{B}



\section{Datenspeicherung und -verarbeitung}

\ureq{Die erfassten Daten sollen anonymisiert gespeichert werden.}{A}

\ureq{Der Zugriff auf die Datenbank soll auf Admins beschränkt sein.}{A}

%FIXME Korrekten Befehl für Glossareinträge, die anders geschrieben werden als im Glossar benutzen.
\ureq{Die Datenbank soll über Filter verfügen, damit die Daten einzelner \gls{Experiment}e getrennt abgerufen werden können.}{B}

\ureq{Es soll eine Möglichkeit zum Datenexport geben, um die Daten (mit externen Programmen) auswerten zu können.}{B}




%bis hier entfernen für Endversion

\part{System Requirements}

\chapter{Non-Functional Requirements}

To enter a non-functional requirement, simply use:
\begin{verbatim}
  \nfreq{text}{priority}
\end{verbatim}



\section{Product Requirements}

\section{Usability Requirements}

\section{Efficiency Requirements}

\section{Performance Requirements}


\chapter{Functional Requirements}

To enter a functional requirement, simply use:
\begin{verbatim}
  \freq{text}{priority}
\end{verbatim}


\part{Szenarios}

\section{Szenario für die Erstellung eines Experiments}

\scenario{Ein Admin möchte ein \gls{Experiment} erstellen: Wie lange muss ein verurteilter Täter in Haft? Dazu lädt er eine PDF-Datei mit Informationen zum Tathergang und dem Urteil hoch und ordnet eine \gls{Gruppe} dieser Frage zu.}
{\begin{itemize} 
  \item Der Admin benutzt das Experiment-Erstellungs-Interface und gibt die Frage, die Antwortmöglichkeit als Kommazahl und eine Fragebeschreibung (z.B. Bitte zugeordnetes PDF beachten. Kommazahlen als Antwort sind erlaubt.) ein.
  \item Der Admin gibt außerdem einen Zeitraum für das Experiment, sowie die Dauer für Clients, eine Antwort abgeben zu können, an.
  \item Der Admin lädt das Info-PDF hoch.
  \item Der Admin sucht eine Gruppe aus und ordnet diese zu. (z.B. Jura-Studenten)
  \end{itemize}}
{\begin{itemize}
    \item Die Eingaben (Fragetext und Fragebeschreibung) könnten zu lang sein.
    \item Das PDF könnte zu groß oder im falschen Format sein.
    \item ...
    \end{itemize}}
{Eingabefelder in ihrer Länge beschränken. Checks einbauen, die das PDF auf Größe (z.B. <5 MB) und auf das Format prüfen.}
{User ist eingeloggt. Die Frage ist erstellt und wird mit PDF und allen weiteren vom Admin eingegebenen Infos den ausgewählten Clients zur Teilahme bereitgestellt.}  


Erklärung der Vorlage:

\begin{verbatim}
  \scenario{initial assumption}
{normal}
{what can go wrong}
{other activities}
{system state on completion}
\end{verbatim}

For example

\begin{verbatim}
  \scenario{The patient has...}
{\begin{itemize} 
  \item The nurse searches...
\end{itemize}}
{\begin{itemize}
    \item The patientâ€™s...
\end{itemize}}
{Record may be...}
{User is logged...}  
\end{verbatim}

produces:

\scenario{The patient has seen a medical receptionist who has created
  a record in the system and collected the patientâ€™s personal
  information (name, address, age, etc.). A nurse is logged on to the
  system and is collecting medical history.}
{\begin{itemize} 
  \item The nurse searches for the patient by family name. If there is
    more than one patient with the same surname, the given name (first
    name in English) and date of birth are used to identify the
    patient.
  \item The nurse chooses the menu option to add medical history.
  \item The nurse then follows a series of prompts from the system to
    enter information about consultations elsewhere on mental health
    problems (free text input), existing medical conditions (nurse
    selects conditions from menu), medication currently taken
    (selected from menu), allergies (free text), and home life
    (form). 
  \end{itemize}}
{\begin{itemize}
    \item The patientâ€™s record does not exist or cannot be found. The nurse should create a new record and record personal information. 
    \item Patient conditions or medication are not entered in the
      menu. The nurse should choose the â€˜otherâ€™ option and enter free
      text describing the condition/medication.
    \item Patient cannot/will not provide information on medical
      history. The nurse should enter free text recording the
      patientâ€™s inability/unwillingness to provide information. The
      system should print the standard exclusion form stating that the
      lack of information may mean that treatment will be limited or
      delayed. This should be signed and handed to the patient.
    \end{itemize}}
{Record may be consulted but not edited by other staff
  while information is being entered.}
{User is logged on. The patient record including medical history is
  entered in the database.}  

\end{document}
%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
